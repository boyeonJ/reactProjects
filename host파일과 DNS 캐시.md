브라우저에 만약 naver.com을 입력하면 브라우저는 dns를 통해 IP 주소를 알아낸후 서버와 통신합니다. 여기서 브라우저가 ip주소를 검색하는 과정을 좀 더 자세히 알아보면 크게 3가지의 순서로 나눌수 있습니다. 

1. host 파일 검색
2. DNS 캐시 검색
3. ISP의 DNS 서버가 DNS 쿼리 보내기

## 1. host 파일 검색

### host 파일이란?
호스트 파일은 **로컬 시스템**에서 사용하는 정적인 **호스트 이름과 IP 주소 매핑 정보를** 저장하는 텍스트 파일입니다. 주로 작은 네트워크 환경이나 로컬 시스템에서 사용하며, 특정 도메인에 대한 IP 주소를 직접 지정할 수 있습니다.
```
127.0.0.1   localhost
::1         localhost

192.168.0.10   example.local

```

> **파일 위치**
- mac: /etc/hosts
- window: C:\Windows\System32\drivers\etc\hosts
![](https://velog.velcdn.com/images/boyeon_jeong/post/1e12f995-5a84-456e-b575-624e5a05ad6e/image.png)


### host 파일 검색
호스트 파일의 **우선순위는 DNS 조회보다 높기 때문에**, 도메인 이름을 IP 주소로 해석할 때 먼저 이 파일을 참고합니다. 로컬 시스템에서만 적용되는 설정이며, 특정 도메인에 대한 IP 주소를 로컬에서만 사용하고자 할 때 활용됩니다.

## 2. DNS 캐시 검색

### dns 캐시란?
DNS 캐시는 **최근에 수행된 DNS 조회 결과를 저장하는 메모리 영역**입니다. 이는 이전에 방문한 도메인에 대한 IP 주소를 저장하여 반복적인 DNS 조회를 방지하고 **응답 속도를 향상**시키는데 사용됩니다.

## 3. ISP의 DNS 서버가 DNS 쿼리 보내기

### ISP란?
ISP(인터넷 서비스 제공자)는 사용자에게 인터넷 서비스를 제공하는 조직 또는 기업을 나타냅니다. 이들은 사용자에게 인터넷 접속 서비스를 제공하고, DNS 조회와 같은 네트워크 인프라를 운영합니다.

### ISP의 DNS 서버가 DNS 쿼리 보내는 과정
1. 호스트 파일과 DNS 캐시에서 해당 도메인의 IP 주소를 찾을 수 없는 경우, 브라우저는 운영 체제에 설정된 DNS 서버(일반적으로 ISP의 DNS 서버)로 DNS 쿼리를 보냅니다.
2. ISP의 DNS 서버는 "naver.com"에 대한 IP 주소를 찾기 위해 **루트 DNS 서버부터 차례대로 쿼리를 진행**하며 DNS 계층 구조를 따라 도메인을 해석합니다.
3. DNS 서버 중 하나에서 "naver.com"에 대한 IP 주소를 찾으면, 해당 IP 주소를 브라우저에게 응답합니다.
4. 브라우저는 이제 찾은 IP 주소를 사용하여 서버와 통신을 시도하고, 웹 페이지를 로드합니다.
